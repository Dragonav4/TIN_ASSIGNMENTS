<% if (errors && errors.length) { %>
    <div class="alert" data-variant="error">
        <p>Please fix the following issues:</p>
        <ul>
            <% errors.forEach(function(error) { %>
                <li><%= error %></li>
            <% }); %>
        </ul>
    </div>
<% } %>

<form method="POST" action="<%= actionUrl %>" class="form">
    <div class="field">
        <label for="title">Title</label>
        <input type="text" id="title" name="title"
               value="<%= (game && game.title) ? game.title : '' %>" required>
    </div>

    <div class="field">
        <label for="platform">Platform</label>
        <input type="text" id="platform" name="platform"
               value="<%= (game && game.platform) ? game.platform : '' %>" required>
    </div>

    <div class="field">
        <label for="status">Status</label>
        <select id="status" name="status" required>
            <option value="">Select status</option>
            <% statuses.forEach(function(status) { %>
                <option value="<%= status %>"
                        <%= game && game.status === status ? 'selected' : '' %>>
                    <%= status %>
                </option>
            <% }); %>
        </select>
    </div>

    <div class="field">
        <label for="rating">Rating (1â€“10, optional)</label>
        <input type="number" id="rating" name="rating" min="1" max="10"
               value="<%= (game && game.rating != null) ? game.rating : '' %>">
    </div>

    <div class="field">
        <label for="genre_id">Genre</label>
        <select id="genre_id" name="genre_id" required>
            <option value="">Select genre</option>
            <% (genres || []).forEach(function(genre) { %>
                <option value="<%= genre.id %>"
                        <%= game && String(game.genre_id) === String(genre.id) ? 'selected' : '' %>>
                    <%= genre.name %>
                </option>
            <% }); %>
        </select>
    </div>

    <div class="row" data-spacing="actions">
        <button type="submit" class="btn" data-variant="primary"><%= submitLabel %></button>
        <a href="/games" class="btn" data-variant="ghost">Back to list</a>
    </div>
</form>
